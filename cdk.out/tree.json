{"version":"tree-0.1","tree":{"id":"App","path":"","children":{"CdkAuth0PocStack":{"id":"CdkAuth0PocStack","path":"CdkAuth0PocStack","children":{"IdentityFnPOCQueue":{"id":"IdentityFnPOCQueue","path":"CdkAuth0PocStack/IdentityFnPOCQueue","children":{"Resource":{"id":"Resource","path":"CdkAuth0PocStack/IdentityFnPOCQueue/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::SQS::Queue","aws:cdk:cloudformation:props":{"fifoQueue":true,"queueName":"identity-fn-poc-queue.fifo","tags":[{"key":"Stack","value":"identity-fn-sandbox-stack"}],"visibilityTimeout":300}},"constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.CfnQueue","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_sqs.Queue","version":"2.186.0","metadata":[{"visibilityTimeout":"*","fifo":true,"queueName":"*"}]}},"DBSecret":{"id":"DBSecret","path":"CdkAuth0PocStack/DBSecret","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":[]}},"Auth0AccountSetupPOCHandler":{"id":"Auth0AccountSetupPOCHandler","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler","children":{"ServiceRole":{"id":"ServiceRole","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/ServiceRole","children":{"ImportServiceRole":{"id":"ImportServiceRole","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/ServiceRole/ImportServiceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.186.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/ServiceRole/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"lambda.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/service-role/AWSLambdaBasicExecutionRole"]]}],"tags":[{"key":"Stack","value":"identity-fn-sandbox-stack"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.186.0"}},"DefaultPolicy":{"id":"DefaultPolicy","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/ServiceRole/DefaultPolicy","children":{"Resource":{"id":"Resource","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/ServiceRole/DefaultPolicy/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Policy","aws:cdk:cloudformation:props":{"policyDocument":{"Statement":[{"Action":["sqs:ChangeMessageVisibility","sqs:DeleteMessage","sqs:GetQueueAttributes","sqs:GetQueueUrl","sqs:ReceiveMessage"],"Effect":"Allow","Resource":{"Fn::GetAtt":["IdentityFnPOCQueue633B7992","Arn"]}},{"Action":["secretsmanager:DescribeSecret","secretsmanager:GetSecretValue","secretsmanager:PutSecretValue","secretsmanager:UpdateSecret"],"Effect":"Allow","Resource":"arn:aws:secretsmanager:ap-southeast-1:434343955077:secret:identity-postgresql-credential-??????"}],"Version":"2012-10-17"},"policyName":"Auth0AccountSetupPOCHandlerServiceRoleDefaultPolicyD3FA7E20","roles":[{"Ref":"Auth0AccountSetupPOCHandlerServiceRoleFB5CCEAB"}]}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnPolicy","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Policy","version":"2.186.0","metadata":["*",{"attachToRole":["*"]},{"attachToRole":["*"]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]},{"addStatements":[{}]}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.186.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"}]},{"addToPrincipalPolicy":[{}]},{"attachInlinePolicy":["*"]},{"attachInlinePolicy":["*"]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]},{"addToPrincipalPolicy":[{}]}]}},"Code":{"id":"Code","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/Code","children":{"Stage":{"id":"Stage","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/Code/Stage","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.186.0"}},"AssetBucket":{"id":"AssetBucket","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/Code/AssetBucket","constructInfo":{"fqn":"aws-cdk-lib.aws_s3.BucketBase","version":"2.186.0","metadata":[]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_s3_assets.Asset","version":"2.186.0"}},"Resource":{"id":"Resource","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::Function","aws:cdk:cloudformation:props":{"code":{"s3Bucket":"cdk-hnb659fds-assets-434343955077-ap-southeast-1","s3Key":"2df0c114fbf7f8886451dd39a0e09bbe8a89463f971868178842c5f03bd3160d.zip"},"environment":{"variables":{"QUEUE_URL":{"Ref":"IdentityFnPOCQueue633B7992"},"SM_NAME":"identity-postgresql-credential","REGION":"ap-southeast-1","NOTIFICATION_EMAIL_QUEUE":"NOTIFICATION_EMAIL_QUEUE","SENTRY_DSN":"https://b79130468ac5a32c12a79256a7812582@o157451.ingest.us.sentry.io/4508103154728960","SERVERLESS_STAGE":"development","AUTH0_DOMAIN":"https://sandbox-id.pulsifi.me/","AUTH0_API_AUDIENCE":"https://sandbox.api.pulsifi.me/","AUTH0_MANAGEMENT_AUDIENCE":"https://sandbox.api.pulsifi.me/","AUTH0_M2M_CLIENT_ID":"uydKnETZG8ZDDNbce7NqGZiObZPqySo0","AUTH0_M2M_CLIENT_SECRET":"IX6JVgrWRyy9X8KxC6fXbGbpZwAs8bflOG41a4qeIYhtfnnPBQ6j4KlZcQDo0MyB","AUTH0_ENTERPRISE_DOMAIN":"https://sandbox-enterprise-id.pulsifi.me/","AUTH0_ENTERPRISE_API_AUDIENCE":"https://sandbox.api.pulsifi.me/","AUTH0_ENTERPRISE_MANAGEMENT_AUDIENCE":"https://pulsifi-sandbox-enterprise.us.auth0.com/api/v2/","AUTH0_ENTERPRISE_M2M_CLIENT_ID":"uydKnETZG8ZDDNbce7NqGZiObZPqySo0","AUTH0_ENTERPRISE_M2M_CLIENT_SECRET":"IX6JVgrWRyy9X8KxC6fXbGbpZwAs8bflOG41a4qeIYhtfnnPBQ6j4KlZcQDo0MyB"}},"functionName":"auth0-account-setup-poc","handler":"index.handler","memorySize":128,"role":{"Fn::GetAtt":["Auth0AccountSetupPOCHandlerServiceRoleFB5CCEAB","Arn"]},"runtime":"nodejs18.x","tags":[{"key":"Stack","value":"identity-fn-sandbox-stack"}],"timeout":30}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnFunction","version":"2.186.0"}},"SqsEventSource:CdkAuth0PocStackIdentityFnPOCQueue5D37D764":{"id":"SqsEventSource:CdkAuth0PocStackIdentityFnPOCQueue5D37D764","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/SqsEventSource:CdkAuth0PocStackIdentityFnPOCQueue5D37D764","children":{"Resource":{"id":"Resource","path":"CdkAuth0PocStack/Auth0AccountSetupPOCHandler/SqsEventSource:CdkAuth0PocStackIdentityFnPOCQueue5D37D764/Resource","attributes":{"aws:cdk:cloudformation:type":"AWS::Lambda::EventSourceMapping","aws:cdk:cloudformation:props":{"tags":[{"key":"Stack","value":"identity-fn-sandbox-stack"}],"eventSourceArn":{"Fn::GetAtt":["IdentityFnPOCQueue633B7992","Arn"]},"functionName":{"Ref":"Auth0AccountSetupPOCHandler962CE76A"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.CfnEventSourceMapping","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda.EventSourceMapping","version":"2.186.0","metadata":[{"target":"*","batchSize":"*","maxBatchingWindow":"*","maxConcurrency":"*","reportBatchItemFailures":"*","enabled":"*","eventSourceArn":"*","filters":"*","filterEncryption":"*","metricsConfig":"*"}]}}},"constructInfo":{"fqn":"aws-cdk-lib.aws_lambda_nodejs.NodejsFunction","version":"2.186.0","metadata":[{"runtime":"*","entry":"*","handler":"*","timeout":"*","memorySize":"*","functionName":"*","environment":"*","bundling":{"minify":true,"sourceMap":true,"target":"*","externalModules":"*","define":"*"},"code":"*"},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{},{"runtime":"*","entry":"*","handler":"*","timeout":"*","memorySize":"*","functionName":"*","environment":"*","bundling":{"minify":true,"sourceMap":true,"target":"*","externalModules":"*","define":"*"}}]}},"CDKMetadata":{"id":"CDKMetadata","path":"CdkAuth0PocStack/CDKMetadata","children":{"Default":{"id":"Default","path":"CdkAuth0PocStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.186.0"}}},"constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}},"BootstrapVersion":{"id":"BootstrapVersion","path":"CdkAuth0PocStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.186.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"CdkAuth0PocStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.186.0"}}},"constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.186.0"}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}},"constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.186.0"}}}